<?xml version='1.0' encoding='UTF-8'?>
<!-- This document was created with Syntext Serna Free. -->
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "docbookV4.5/docbookx.dtd" []>
<article>
  <section>
    <sectioninfo/>
    <title>Победа в игре</title>
    <para>Открыв все «не заминированные» ячейки, игрок выигрывает. Игра не должна быть случайной — кривая обучения должна быть такой, чтобы интерес сохранялся по мере развития. Если вы играете в русскую рулетку — подготовка не меняет результат. Преимущество игроков должно быть в возможности играть сильнее при возможности раскрывать механику или при чисто интеллектуальном превосходстве (или в ловкости, например). Когда ряд настольных игр делали турнирными, была образована лига DCI (крупным игровым журналом). Так вот, правила приходилось переделывать в уход от сильной случайности и действий на ловкость — правила лиги подразумевали только интеллектуальный поединок.</para>
    <para>Существуют варианты игры с полем и/или ячейками непрямоугольной формы, или в трёхмерном пространстве, многопользовательские варианты. При некоторых расстановках мин вычислить их расположение невозможно, и игрок оказывается перед необходимостью открывать ячейки наугад. Сапёр имеет интерактивное поле, если все возможные комбинации на поле уже открыты, то игрок не взорвется (если нажать на не открытый кусок поля), ткнув наугад.</para>
    <programlisting>dom.className = '';
                    var elems = document.getElementsByTagName('div'),
                        len = 0;
                    for (ki in elems) {
                        if (elems[ki].className && elems[ki].className.indexOf('close') != -1)
                    }
                    len++;
                }
                if (len <= bombs) {
                    alert('You win!');
                }</programlisting>
  </section>

<section>
    <sectioninfo/>
    <title>Поражение</title>
    <para>Игрок открывает ячейки, стараясь не открыть ячейку с миной. Открыв ячейку с миной, он проигрывает. В противоположность распространённому варианту с бесконечной возможностью переигрывания эпизодов, существуют игры, для которых Game over означает полное завершение всей игры, с наличием возможности переиграть только с самого начала</para>
    <para>Game Over является запланированной частью игрового процесса. Правилами большинства игр, в которых присутствует Game Over, непосредственно после него предусмотрено неограниченное количество повторных попыток прохождения игрового эпизода, в котором игрок допустил ошибки, приведшие к Game Over-у. Game Over как часть игрового процесса чаще всего предусмотрен в большинстве игр таких жанров как 3D-шутер, RPG, квест, адвенчура, аркада, симулятор, стратегия, файтинг, и многие другие.</para>
    <programlisting>dom = document.getElementById(i + '_' + j);
                if (!dom || dom.className.indexOf('close') == -1) {
                    return;
                }
                if (dom.className.indexOf('bomb') != -1) {
                    divs = document.getElementsByTagName('div');
                    for (i = 0; i < divs.length; i++) {
                        divs[i].className = divs[i].className.indexOf('bomb') != -1 ? 'bomb' : '';
                        alert('You lose!');</rogramlisting>
  </section>

<section>
    <sectioninfo/>
    <title>Игровой процесс</title>
    <para>Плоское или объёмное игровое поле разделено на смежные ячейки (квадраты, шестиугольники, кубы и т. п.), некоторые из которых «заминированы»; количество «заминированных» ячеек известно. Целью игры является открытие всех ячеек, не содержащих мины.</para>
    <para>Игрок открывает ячейки, стараясь не открыть ячейку с миной. Открыв ячейку с миной, он проигрывает. Мины расставляются после первого хода, поэтому проиграть на первом же ходу невозможно. Если под открытой ячейкой мины нет, то в ней появляется число, показывающее, сколько ячеек, соседствующих с только что открытой, «заминировано» (в каждом варианте игры соседство определяется по-своему); используя эти числа, игрок пытается рассчитать расположение мин, однако иногда даже в середине и в конце игры некоторые ячейки всё же приходится открывать наугад. Если под соседними ячейками тоже нет мин, то открывается некоторая «не заминированная» область до ячеек, в которых есть цифры. «Заминированные» ячейки игрок может пометить, чтобы случайно не открыть их. Открыв все «не заминированные» ячейки, игрок выигрывает.</para>
    <programlisting>var bombs = 0;
        for (i = 0; i < fileds; i++) {
            r = document.createElement('div');
            if (Math.random() * fileds < count) {
                r.className = 'bomb_close', document.getElementById('text').innerHTML = (++bombs) + ' bomb\'s';
            } else {
                r.className = 'close';
            }
            r.id = Math.floor(i / 10) + '_' + i % 10;
            document.body.appendChild(trr);
        }
        for (o = 0; o < fileds; o++) {
            i = Math.floor(o / 10), j = o % 10, num = 0, obj = document.getElementById(i + '_' + j);
            for (k = 0; k < 9; k++) {
                num += cl((i - (Math.floor(k / 3) - 1)) + '_' + (j - (k % 3 - 1)));
            }
            obj.innerHTML = num == 0 ? ' ' : num;
            obj.onclick = function() {
                mix = this.id.split('_'), open(mix[0], mix[1]);
            }
            obj.oncontextmenu = function() {
                this.className = this.className.indexOf('flag') != -1 ? this.className.replace(/flag/, '') : this.className + 'flag';
                return false;</programlisting>
  </section>
</article>
